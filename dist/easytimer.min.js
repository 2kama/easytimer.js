var module,Timer=function(a){"use strict";function b(){return"undefined"!=typeof document}function c(){return y}function d(a,b){return(a%b+b)%b}function e(a,b,c){var d,e="";for(d=0;d<b;d+=1)e+=String(c);return(e+a).slice(-e.length)}function f(){this.secondTenths=0,this.seconds=0,this.minutes=0,this.hours=0,this.days=0,this.toString=function(a,b,c){a=a||["hours","minutes","seconds"],b=b||":",c=c||2;var d,f=[],g="";for(d=0;d<c;d+=1)g+="0";for(d=0;d<a.length;d+=1)void 0!==this[a[d]]&&f.push(e(this[a[d]],c,"0"));return f.join(b)}}function g(){function a(a,b){var c=Math.floor(b);ma[a]=c,la[a]=a!==v?d(c,x[a]):c}function e(a){return C(a,v)}function g(a){return C(a,u)}function z(a){return C(a,t)}function A(a){return C(a,s)}function B(a){return C(a,r)}function C(b,c){var d=ma[c];return a(c,b/w[c]),ma[c]!==d}function D(){E(),N()}function E(){clearInterval(ca),ca=void 0,oa=!1,pa=!1}function F(a){$()||O(a),G()}function G(){if(Z())throw new Error("Timer already running");if(!M()){var a=w[da];ka=I(Date.now())-ma.secondTenths*w[r]*ea,ca=setInterval(H,a),oa=!0,pa=!1}}function H(){var a=I(Date.now()),b=ea>0?a-ka:ka-a,c={};c[r]=B(b),c[s]=A(b),c[t]=z(b),c[u]=g(b),c[v]=e(b),J(c),fa(la),M()&&(Y("targetAchieved",ra),S())}function I(a){return Math.floor(a/w[da])*w[da]}function J(a){a[r]&&Y("secondTenthsUpdated",ra),a[s]&&Y("secondsUpdated",ra),a[t]&&Y("minutesUpdated",ra),a[u]&&Y("hoursUpdated",ra),a[v]&&Y("daysUpdated",ra)}function K(){return la.days>ha[q]||la.days===ha[q]&&(la.hours>ha[p]||la.hours===ha[p]&&(la.minutes>ha[o]||la.minutes===ha[o]&&(la.seconds>=ha[n]||la.seconds===ha[s]&&la.secondTenths>=ha[m])))}function L(){return la.days<ha[q]||la.days===ha[q]&&(la.hours<ha[p]||la.hours===ha[p]&&(la.minutes<ha[o]||la.minutes===ha[o]&&(la.seconds<ha[n]||la.seconds===ha[n]&&la.secondTenths<=ha[m])))}function M(){return ha instanceof Array&&(qa.countdown&&L()||!qa.countdown&&K())}function N(){for(var a in la)la.hasOwnProperty(a)&&"number"==typeof la[a]&&(la[a]=0);for(var a in ma)ma.hasOwnProperty(a)&&"number"==typeof ma[a]&&(ma[a]=0)}function O(a){da=a&&"string"==typeof a.precision?a.precision:s,fa=a&&"function"==typeof a.callback?a.callback:function(){},ea=a&&!0===a.countdown?-1:1,ja=a&&1==a.countdown,a&&"object"==typeof a.target&&Q(a.target),a&&"object"==typeof a.startValues&&R(a.startValues),ha=ha||!ja?ha:[0,0,0,0,0],qa={precision:da,callback:fa,countdown:"object"==typeof a&&1==a.countdown,target:ha,startValues:ia},ga=a}function P(a){var b,c,d,e,f,g;if("object"==typeof a)if(a instanceof Array){if(5!=a.length)throw new Error("Array size not valid");g=a}else g=[a.secondTenths||0,a.seconds||0,a.minutes||0,a.hours||0,a.days||0];for(var h=0;h<a.length;h+=1)a[h]<0&&(a[h]=0);return b=g[m],c=g[n]+Math.floor(b/i),d=g[o]+Math.floor(c/j),e=g[p]+Math.floor(d/k),f=g[q]+Math.floor(e/l),g[m]=b%i,g[n]=c%j,g[o]=d%k,g[p]=e%l,g[q]=f,g}function Q(a){ha=P(a)}function R(a){ia=P(a),la.secondTenths=ia[m],la.seconds=ia[n],la.minutes=ia[o],la.hours=ia[p],la.days=ia[q],ma.days=la.days,ma.hours=ma.days*l+la.hours,ma.minutes=ma.hours*k+la.minutes,ma.seconds=ma.minutes*j+la.seconds,ma.secondTenths=ma.seconds*i+la.secondTenths}function S(){D(),Y("stopped",ra)}function T(){D(),F(ga),Y("reset",ra)}function U(a){F(a),Y("started",ra)}function V(){E(),pa=!0,Y("paused",ra)}function W(a,d){b()?na.addEventListener(a,d):c()&&na.on(a,d)}function X(a,d){b()?na.removeEventListener(a,d):c()&&na.removeListener(a,d)}function Y(a,d){b()?na.dispatchEvent(new h(a,d)):c()&&na.emit(a,d)}function Z(){return oa}function $(){return pa}function _(){return la}function aa(){return ma}function ba(){return qa}var ca,da,ea,fa,ga,ha,ia,ja,ka,la=new f,ma=new f,na=b()?document.createElement("span"):c()?new y.EventEmitter:void 0,oa=!1,pa=!1,qa={},ra={detail:{timer:this}};void 0!==this&&(this.start=U,this.pause=V,this.stop=S,this.reset=T,this.isRunning=Z,this.isPaused=$,this.getTimeValues=_,this.getTotalTimeValues=aa,this.getConfig=ba,this.addEventListener=W,this.removeEventListener=X)}var h="undefined"!=typeof window?window.CustomEvent:void 0;"undefined"!=typeof window&&"function"!=typeof h&&(h=function(a,b){b=b||{bubbles:!1,cancelable:!1,detail:void 0};var c=document.createEvent("CustomEvent");return c.initCustomEvent(a,b.bubbles,b.cancelable,b.detail),c},h.prototype=window.Event.prototype,window.CustomEvent=h);var i=10,j=60,k=60,l=24,m=0,n=1,o=2,p=3,q=4,r="secondTenths",s="seconds",t="minutes",u="hours",v="days",w={secondTenths:100,seconds:1e3,minutes:6e4,hours:36e5,days:864e5},x={secondTenths:i,seconds:j,minutes:k,hours:l},y=a&&a.exports&&"function"==typeof require?require("events"):void 0;return a&&a.exports?a.exports=g:"function"==typeof define&&define.amd&&define([],function(){return g}),g}(module);